# 输出差异情况
print(aid_drt_var)
traceback()
}
}
}
}
}
}
}
}
}
}
}
# 格式化数据
x$aid <- substr(x$aid, 4, 100)
n <- length(x$aid)
aid <- unique(x$aid)
# drt总体分布情况
x$drt <- as.integer(substr(x$drt, 16, 17))  #转化成小时
drt_summary <- table(x$drt)/n
print(drt_summary)
drt_names <- names(drt_summary)
#browser()
aid_drt_var <- list()                  # 记录每个应用的小时分布与总体分布的方差
for (i in x$aid) {
tmp_drt <- x$drt[which(x$aid==i)]
tmp_drt_summary <- table(tmp_drt)/length(tmp_drt)
# 计算方差
drt_var <- 0
for (j in drt_names) {
drt_var <- drt_var + ifelse(NULL == tmp_drt_summary[[j]], 0, (tmp_drt_summary[[j]] - drt_summary[[j]])^2)
}
aid_drt_var[[i]] <- drt_var
}
#browser()
# 输出差异情况
print(aid_drt_var)
traceback()
}
}
}
}
printdd(drt_summary)
a
a #test
#}
aid_drt_var[[i]] <- drt_var
}
}
aid_drt_var[[i]] <- c(drt_var)
aid_drt_var[[i]] <- 0 #c(drt_var)
aid_drt_var[i] <- 0 #c(drt_var)
}
aid_drt_var[i] <- 0 #c(drt_var)
}
aid
tmp_drt <- x$drt[which(x$aid==i)]
tmp_drt_summary <- table(tmp_drt)/length(tmp_drt)
# 计算方差
drt_var <- 0
#for (j in drt_names) {
#  drt_var <- drt_var + ifelse(NULL == tmp_drt_summary[[j]], 0, (tmp_drt_summary[[j]] - drt_summary[[j]])^2)
#}
aid_drt_var[[i] <- drt_var
}
#browser()
# 输出差异情况
print(aid_drt_var)
traceback()
}
}
}
}
aid_drt_var[[i] <- drt_var
aid_drt_var[[i]] <- drt_var
drt_var <- 0
aid_drt_var[[i]] <- drt_var
traceback()
}
}
#tmp_drt <- x$drt[which(x$aid==i)]
#tmp_drt_summary <- table(tmp_drt)/length(tmp_drt)
# 计算方差
drt_var <- 0
#for (j in drt_names) {
#  drt_var <- drt_var + ifelse(NULL == tmp_drt_summary[[j]], 0, (tmp_drt_summary[[j]] - drt_summary[[j]])^2)
#}
aid_drt_var[[i]] <- drt_var
#aid_drt_var[[i]] <- drt_var
}
#browser()
#drt_var <- 0
#for (j in drt_names) {
#  drt_var <- drt_var + ifelse(NULL == tmp_drt_summary[[j]], 0, (tmp_drt_summary[[j]] - drt_summary[[j]])^2)
#}
#aid_drt_var[[i]] <- drt_var
#}
#browser()
# 输出差异情况
print(aid_drt_var)
traceback()
}
}
cai_findruns <- function(x, k) {
xlen <- length(x)
xsum <- sum(x[1:k])
y <- vector(length=xlen-k+1)
yi <- 0
for (i in 1:(xlen-k+1)){
if (i>1) {
xsum <- xsum + x[i+k-1] - x[i-1]
}
if (k == xsum) {
yi <- yi + 1
y[yi] <- i
}
}
y <- y[1:yi]
return(y)
}
}
}
}
}
aid_drt_var[[i]] <- drt_var
}
#browser()
aid_drt_var[[i]] <- drt_var
}
source('cai_analyse.r')
source('./cai_analyse.r')
source('/home/windows/Dropbox/code/r/cai_analyse.r')
cai_analyse(dis)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
cai_analyse(dis)
cai_analyse(dis)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
cai_analyse(dis)
ta
ta[["5"]]
is.null(ta[["3"]])
is.null(ta[["5"]])
test(ta[["5"]])
is.na(ta[["5"]])
n <- names(ta)
n
n[n=="3"]
n[n=="5"]
mode(n[n=="5"])
mode(n[n=="2"])
n[n=="2"] == 0
n[n=="5"] == 0
n[n=="5"]
n[n=="5"] == "0"
n[n=="5"] == \0
n[n=="5"] == 0
n[n=="5"] == character(0)
ta[ta=="3"]
ta[ta=="5"]
ta[[ta=="5"]
]
is.na(ta[["5"]])
n
which(n=="3")
which(n=="5")
which(n=="5") == 0
which(n=="3") == 0
which(n=="3") > 0
which(n=="5") > 0
ifelse(which(n=="5"), 0, 1)
x <- ifelse(which(n=="5"), 0, 1)
x
x <- ifelse(which(n=="5"), 2, 1)
x
length(which(n=="5"))
length(which(n=="3"))
length(which(n=="3")) == 1
length(which(n=="4")) == 1
length(which(n=="4")) == 0
ta["3"]
ta["5"]
is.na(ta["5"])
is.na(ta["3"])
source('/home/windows/Dropbox/code/r/cai_analyse.r')
cai_analyse(dis)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
cai_analyse(dis)
ta
ta$`=1`
class(ta)
class(a)
a
source('/home/windows/Dropbox/code/r/cai_analyse.r')
cai_analyse(dis)
x <- cai_analyse(dis)
class(x)
x$`=39740`
x[['39740']]
source('/home/windows/Dropbox/code/r/cai_analyse.r')
cai_analyse(dis)
x <- cai_analyse(dis)
x[['39740']]
x['39740']
dis$aid
substr(dis$aid, 4, 100)
substr(dis$aid, 5, 100)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
cai_analyse(dis)
x<-cai_analyse(dis)
x$`39740`
x[["39740"]]
length(x)
x
order(x)
sort(x)
?sort
fix(ta)
order(x)
sort.list(x)
?sort.list
y <- list(aid=c(), var=c())
y
y <- rbind(c(100, 0.4))
y
y$aid
?rbind
y <- list(aid=c(), var=c())
y <- rbind(y, c(100, 0.4))
y
y <- rbind(y, c(102, 0.3))
y
z <- list
y[1,]
y[1,] <- NULL
y[1,] <- c(1054, 0.2)
y
y[(sort(y$var, index.return=T, decreasing=T))]
sort(y$var, index.return=T, decreasing=T)
sort.list(y)
sort.list(y$var)
sort(y$var)
order(y$var)
y
y$var
y[["var"]]
y[["aid"]]
y
y["var"]
y[1]
y[,1]
sort(y[,1])
sort(y[,1], index.return=T)
sort(y[,1],)
sort(y[,1])
order(y[,1])
class(y)
y<-c("alex", 10)
y <- rbind("B", 20)
y
y<-c("alex", 10)
y
y <- rbind(y,c("b", 20))
y <- rbind(y,c("e", 23))
y <- rbind(y,c("d", 16))
y
y <- as.table(y)
y
y$A
y$B
y
class(y)
y <- as.list(y)
y
y <- as.table(y)
x
x[x>0.8]
x[x<0.1]
y <- x[x<0.1]
length(y)
names(y)
y <- x[x>0.9]
names(y)
y <- x[x>1]
names(y)
y <- x[x>0.95]
names(y)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
cai_analyse(dis)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
cai_analyse(dis)
x <- cai_analyse(dis)
x[x>0.9]
x[x>0.3]
x[x>0.2]
x[x>0.1]
x
x
length(x)
x[x>0.05]
x[x>0.004]
x[x>0.01]
x[x>0.02]
length(x[x>0.02])
length(x[x>0.2])
names(x[x>0.2])
sum(x)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
cai_analyse(dis)
x <- cai_analyse(dis)
?print
x <- cai_analyse(dis)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
x <- cai_analyse(dis)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
x <- cai_analyse(dis)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
x <- cai_analyse(dis)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
x <- cai_analyse(dis)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
x <- cai_analyse(dis)
names(x[x>0.02])
names(x[x《0.01])
names(x[x<0.01])
names(x[x<0.001])
names(x[x<0.005])
x <- cai_analyse(dis)
x <- cai_analyse(dis)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
x <- cai_analyse(dis)
source('/home/windows/Dropbox/code/r/cai_analyse.r')
x <- cai_analyse(dis)
x[x>20]
names(x[x>20])
names(x[x<2])
names(x[x>10])
source('/home/windows/Dropbox/code/r/cai_analyse.r')
x <- cai_analyse(dis)
names(x[x>10])
names(x[x>15])
names(x[x>10])
dis$ip
ta
as.vector(s)
as.vector(a)
as.vector(ta)
?std
sd(as.vector(ta))
source('/home/windows/Dropbox/code/r/cai_analyse_ip.r')
cai_analyse_ip(dis)
source('/home/windows/Dropbox/code/r/cai_analyse_ip.r')
y <- cai_analyse_ip(dis)
y
source('/home/windows/Dropbox/code/r/cai_analyse_ip.r')
y <- cai_analyse_ip(dis)
source('/home/windows/Dropbox/code/r/cai_analyse_ip.r')
y <- cai_analyse_ip(dis)
source('/home/windows/Dropbox/code/r/cai_analyse_ip.r')
y <- cai_analyse_ip(dis)
y
y[["27146"]]
y[["43808"]]
y[["67180"]]
y[["49331"]]
y[["50185"]]
source('/home/windows/Dropbox/code/r/cai_analyse_ip.r')
y <- cai_analyse_ip(dis)
y
ls()
rm(list=ls())
quit()
a <- list("a"=1, "b"=2)
a
class(a) <- "A"
a
print.A <- function(x) {}
print.A <- function(x) {
cat("a:", x$a, "\n")
}
a
methods(,A)
methods(,"A")
methods(,a)
methods(a)
?methods
a
print(a)
print.A <- function(x) {
x #cat("a:", x$a, "\n")
}
print(a)
print(a)
print(a)
exists(a$a)
?exists
?sapply
b <- c(1,2,2,3)
sapply(b, FUN=function(x)x)
table
table(b)
tmp.c <- unique(b)
tmp.c
count.fields(b)
?count.fields
tapply(b, c, FUN=function(x){length(x)})
?lapply
tapply(b, b, FUN=function(x){length(x)})
tmp.d <- tapply(b, b, FUN=function(x){length(x)})
tmp.d[order(tmp.d)]
tmp.d <- tapply(b, b, FUN=length(x))
tmp.d <- tapply(b, b, FUN=length
)
tmp.d[order(tmp.d)]
tmp.e <- tmp.d[order(tmp.d)]
tmp.e/4
tmp.e
tmp.e[3]
tmp.e[[3]]
tmp.e$`3`
tmp.e
as.list(tmp.e)
tmp.d <- tapply(b, b, FUN=length)
tapply(b, b, FUN=length)
tapply(b, b, FUN=length, simplify=F)
tapply(b, b, FUN=length, simplify=T)
tapply(b, b, FUN=length, simplify=F)
list(length=3)
?list
a
b
tmp.a
tmp.b <- unique(b)
tmp.b
sapply(0, tmp.b, FUN=function(x){0})
sapply(0, tmp.b, FUN=function(x){""})
sapply(c(0), tmp.b, FUN=function(x){""})
sapply(c(0,0,0), tmp.b, FUN=function(x){""})
tapply(c(0,0,0), tmp.b, FUN=function(x){""})
tapply(0, tmp.b, FUN=function(x){""})
tapply(tmp.b, tmp.b, FUN=function(x){0})
tapply(tmp.b, tmp.b, FUN=function(x){0}, simplify=F)
?tapply
tapply
split(b,tmp.b)
split(b, tmp.b)
?split
split
split.default(b, tmp.b)
split.default(b, b)
b
b <- c(1,3,4,1,3,1)
b
split.default(b,b)
split(1:10, 1:2)
?split.default
split.default
seq_along
?seq_along
vector("list", 4)
y <- vector("list", 4)
y[["a"]] = 3
y
b
levels(b)
tmp.b <- unique(b)
tmp.b
tmp.lst <- vector("list", length=length(b))
tmp.lst
tmp.lst <- vector("list", length=length(tmp.b))
tmp.st
tmp.lst
names(tmp.lst) <- tmp.b
tmp.lst
lapply(tmp.lst, FUN=function(x){0})
lapply(tmp.lst, FUN=0)
split
?split
split.default(b, b)
lapply(split.default(b, b), FUN=length)
order(lapply(split.default(b, b), FUN=length))
y <- lapply(split.default(b, b), FUN=length)
class(y)
y
order(y)
sort.list(y)
sort(y)
as.array(y)
sort.int(y)
sort.int
sort.list
?sort.list
sort.int(y)
order
y
order(y)
order(as.array(y))
as.array(y)
order(y)
y[order(y)]
order(y)
y
mapply
?mapply
mapply(rep, 1:4, 4:1)
mapply(rep, 1:4)
mapply(rep, times = 1:4, x = 4:1)
source("/home/windows/Dropbox/code/r/R/cai_init.r")
CaiLogBase.one.field.stat(b)
?matrix
sort
sort.list
